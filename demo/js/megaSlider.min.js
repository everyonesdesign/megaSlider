/*megaSlider - v0.0.0 - 2013-12-12
* https://github.com/everyonesdesign/megaSlider.git
* Copyright (c) 2013 Trambitskiy Yura;
* Licensed MIT 
*/

!function(a){a.fn.megaSlider=function(b){function c(){var a;a="min"==u.options.slideHeight?i():j(),v.addClass("megaSlider").css({position:"relative"}).height(a),r=u.options.startSlide,s=u.options.reverse?l(r):k(r),p(w),w.wrapAll("<div class='megaSlider-slides'>").css("position","absolute").eq(r).css({left:0}),h(),u.options.auto&&n(),u.options.stopAutoOnHover&&v.hover(o,n),u.options.onSliderLoad()}function d(){var b,c,d,e=[];return"all"===u.options.effects?a.each(u.effects,function(a){e.push(a)}):e=u.options.effects.split(","),c=e.length-1,d=Math.floor(Math.random()*(c+1)),b=e[d]}function e(){u.options.beforeSlide();var a=d();"function"==typeof u.effects[a]?u.effects[a]():console.error('The specified effect "'+a+'" is missing'),u.options.afterSlide()}function f(){s=l(r),e()}function g(a){s=a,e()}function h(){u._width=v.width(),u._height=v.height()}function i(){var b=1/0;return w.each(function(){var c=a(this).height();b>c&&(b=c)}),b}function j(){var b=0;return w.each(function(){var c=a(this).height();c>minHeight&&(b=c)}),b}function k(a){var b=a;return x>b+1?++b:b=0,b}function l(a){var b=a;return b>0?--b:b=x-1,b}function m(){u.options.reverse?(s=l(s),r=k(s)):(s=k(s),r=l(s))}function n(){u.auto||(u.auto=setInterval(e,u.options.pause))}function o(){clearInterval(u.auto),u.auto=null}function p(a){a.css({top:0,left:"-9999px","z-index":""})}function q(){u.options.responsive&&a("window").resize(h)}if(0==this.length)return this;if(this.length>1)return this.each(function(){a(this).megaSlider(b)}),this;var r,s,t={effects:"all",auto:!1,pause:5e3,duration:500,horizontalBlocks:8,verticalBlocks:4,stopAutoOnHover:!0,slideHeight:"min",easing:"swing",startSlide:0,reverse:!1,cyclic:!1,infinite:!0,responsive:!0,beforeSlide:function(){},afterSlide:function(){},onSliderLoad:function(){}},u=this,v=a(u),w=v.children().addClass("megaSlider-slide"),x=w.length;return u.options=a.extend(t,b),u.goToNextSlide=function(){return e(),this},u.goToPrevSlide=function(){return f(),this},u.goToSlide=function(a){return g(a),this},u.getSlideNumber=function(){return r},u.startAuto=function(){return n(),this},u.stopAuto=function(){return o(),this},u.update=function(b){u.options=a.extend(u.options,b)},u.destroy=function(){v.removeClass("megaSlider")[0].removeAttribute("style"),o(),w.removeClass("megaSlider-slide").unwrap().each(function(){a(this)[0].removeAttribute("style")})},c(),q(),u.effects={},u.effects.moveToRight=function(){var a=w.eq(r),b=w.eq(s);a.animate({left:u._width},{duration:u.options.duration,easing:u.options.easing}),b.css("left",-u._width).animate({left:0},{duration:u.options.duration,easing:u.options.easing,complete:function(){p(a),m()}})},u.effects.moveToLeft=function(){var a=w.eq(r),b=w.eq(s);a.animate({left:-u._width},{duration:u.options.duration,easing:u.options.easing}),b.css("left",u._width).animate({left:0},{duration:u.options.duration,easing:u.options.easing,complete:function(){p(a),m()}})},u.effects.moveToBottom=function(){var a=w.eq(r),b=w.eq(s);a.animate({top:u._height},{duration:u.options.duration,easing:u.options.easing}),b.css({top:-u._height,left:0}).animate({top:0},{duration:u.options.duration,easing:u.options.easing,complete:function(){p(a),m()}})},u.effects.moveToTop=function(){var a=w.eq(r),b=w.eq(s);a.animate({top:-u._height},{duration:u.options.duration,easing:u.options.easing}),b.css({top:u._height,left:0}).animate({top:0},{duration:u.options.duration,easing:u.options.easing,complete:function(){p(a),m()}})},u.effects.moveOntoRight=function(){var a=w.eq(r),b=w.eq(s);b.css({left:-u._width,"z-index":1}).animate({left:0},{duration:u.options.duration,easing:u.options.easing,complete:function(){p(a),b.css("z-index",""),m()}})},u.effects.moveOntoLeft=function(){var a=w.eq(r),b=w.eq(s);b.css({left:u._width,"z-index":1}).animate({left:0},{duration:u.options.duration,easing:u.options.easing,complete:function(){p(a),b.css("z-index",""),m()}})},u.effects.moveOntoBottom=function(){var a=w.eq(r),b=w.eq(s);b.css({top:-u._height,left:0,"z-index":1}).animate({top:0},{duration:u.options.duration,easing:u.options.easing,complete:function(){p(a),b.css("z-index",""),m()}})},u.effects.moveOntoTop=function(){var a=w.eq(r),b=w.eq(s);b.css({top:u._height,left:0,"z-index":1}).animate({top:0},{duration:u.options.duration,easing:u.options.easing,complete:function(){p(a),b.css("z-index",""),m()}})},u.effects.fade=function(){var a=w.eq(r),b=w.eq(s);b.css({left:0,"z-index":1}).animate({opacity:0},0).animate({opacity:1},{duration:u.options.duration,easing:u.options.easing,complete:function(){p(a),b.css("z-index",""),m()}})},this}}(jQuery);