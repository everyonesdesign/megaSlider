/*megaSlider - v0.0.0 - 2013-12-18
* https://github.com/everyonesdesign/megaSlider.git
* Copyright (c) 2013 Trambitskiy Yura;
* Licensed MIT 
*/

!function(a){a.fn.megaSlider=function(b){function c(){h(),G.addClass("megaSlider").css({position:"relative"}),C=F.options.startSlide,D=F.options.reverse?m(C):l(C),q(H),H.wrapAll("<div class='megaSlider-slides'>").css({position:"absolute"}).eq(C).css({left:0}),B=H.parent(),i(),F.modules.controls&&F.options.controls&&t(),F.modules.pagination&&F.options.pagination&&s(),F.options.auto&&o(),F.options.stopAutoOnHover&&G.hover(p,o),F.options.onSliderLoad()}function d(b){var c,d,e,f,g=[];return f="string"==typeof b?b:F.options.effects,"all"===f?a.each(F.effects,function(a){g.push(a)}):g=f.split(","),d=g.length-1,e=Math.floor(Math.random()*(d+1)),c=g[e]}function e(a){if(!J){F.options.beforeSlide(D),J=!0;var b,c=null,e=H.eq(D).data("effect");e&&(c=e),"string"==typeof a&&(c=a),b=d(c),"function"==typeof F.effects[b]?F.effects[b]():console.error('The specified effect "'+b+'" is missing'),setTimeout(function(){J=!1,n(),F.options.afterSlide(D)},F.options.duration)}}function f(a){J||(D=m(C),e(a))}function g(a,b){J||(D=a,e(b))}function h(){var a="";"min"==F.options.slideHeight?a=j():"max"==F.options.slideHeight&&(a=k()),G.height(a)}function i(){F._width=G.width(),F._height=G.height()}function j(){var b=1/0;return H.each(function(){var c=a(this).height();b>c&&(b=c)}),b}function k(){var b=0;return H.each(function(){var c=a(this).height();c>b&&(b=c)}),b}function l(a){var b=a;return I>b+1?++b:b=0,b}function m(a){var b=a;return b>0?--b:b=I-1,b}function n(){F.options.reverse?(D=m(D),C=l(D)):(D=l(D),C=m(D))}function o(a){F.auto&&p(),F.auto="string"==typeof a?setInterval(function(){e(a)},F.options.pause):setInterval(function(){e()},F.options.pause)}function p(){clearInterval(F.auto),F.auto=null}function q(a){a.css({top:0,left:"-9999px","z-index":""})}function r(){F.options.responsive&&a(window).resize(function(){i(),h()})}function s(){for(var b=a("<div class='megaSlider-pagination'></div>").appendTo(G),c="<a href='javascript:;' class='megaSlider-paginationItem'></a>",d=0;d<H.length;d++)a(c).clone().text(d+1).click(function(){g(d)}).appendTo(b)}function t(){var b,c,d=a("<div class='megaSlider-controls'></div>").appendTo(G),g="<a href='javascript:;' class='megaSlider-control'></a>";b=a(g).clone().addClass("prev").text(F.options.prevText).click(e),c=a(g).clone().addClass("next").text(F.options.nextText).click(f),d.append(b).append(c)}function u(a){var b=H.eq(C),c=H.eq(D);"moveRight"==a||"moveLeft"==a?(b.animate({left:"moveRight"==a?F._width:-F._width},{duration:F.options.duration,easing:F.options.easing}),c.css("left","moveRight"==a?-F._width:F._width).animate({left:0},{duration:F.options.duration,easing:F.options.easing,complete:function(){q(b)}})):("moveBottom"==a||"moveTop"==a)&&(b.animate({top:"moveBottom"==a?F._height:-F._height},{duration:F.options.duration,easing:F.options.easing}),c.css({top:"moveBottom"==a?-F._height:F._height,left:0}).animate({top:0},{duration:F.options.duration,easing:F.options.easing,complete:function(){q(b)}})),setTimeout(function(){q(b)},F.options.duration)}function v(a){var b=H.eq(C),c=H.eq(D);"moveOntoRight"==a||"moveOntoLeft"==a?c.css({left:"moveOntoRight"==a?-F._width:F._width,"z-index":1}).animate({left:0},{duration:F.options.duration,easing:F.options.easing,complete:function(){q(b),c.css("z-index","")}}):("moveOntoBottom"==a||"moveOntoTop"==a)&&c.css({top:"moveOntoBottom"==a?-F._height:F._height,left:0,"z-index":1}).animate({top:0},{duration:F.options.duration,easing:F.options.easing,complete:function(){q(b),c.css("z-index","")}})}function w(b){var c,d,e=H.eq(C),f=H.eq(D);"waveRight"==b||"waveLeft"==b?(c=F.options.horizontalBlocks,d=Math.ceil(F._width/c)):(c=F.options.verticalBlocks,d=Math.ceil(F._height/c));for(var g=0;c>g;g++){var h=e.clone().appendTo(B).wrap("<div></div>"),i=h.parent();h.css({left:"waveRight"==b?-d*g+"px":"auto",right:"waveLeft"==b?-d*g+"px":"auto",top:"waveBottom"==b?-d*g+"px":"auto",bottom:"waveTop"==b?-d*g+"px":"auto",width:"waveRight"==b||"waveLeft"==b?e.width():"",height:"waveBottom"==b||"waveTop"==b?e.height():"","max-width":"none","max-height":"none"}),i.css({position:"absolute","z-index":2,overflow:"hidden",left:"waveRight"==b?g*d+"px":"waveLeft"==b?"":0,right:"waveLeft"==b?g*d+"px":"auto",top:"waveBottom"==b?g*d+"px":"waveTop"==b?"":"auto",bottom:"waveTop"==b?g*d+"px":"auto",width:"waveRight"==b||"waveLeft"==b?Math.ceil(F._width/c)+"px":"100%",height:"waveBottom"==b||"waveTop"==b?Math.ceil(F._height/c)+"px":"100%"}).animate({opacity:0},{duration:F.options.duration*(g+1)/(c+1),complete:function(){a(this).remove()}})}f.css("left",0),q(e)}function x(b){for(var c=H.eq(C),d=H.eq(D),e=0;e<F.options.horizontalBlocks;e++)for(var f=0;f<F.options.verticalBlocks;f++){var g=c.clone().appendTo(B).wrap("<div></div>"),h=g.parent();g.css({left:"waveBottomRight"==b||"waveTopRight"==b?-Math.ceil(F._width/F.options.horizontalBlocks)*e+"px":"auto",right:"waveBottomRight"==b||"waveTopRight"==b?"auto":-Math.ceil(F._width/F.options.horizontalBlocks)*e+"px",top:"waveBottomRight"==b||"waveBottomLeft"==b?-Math.ceil(F._height/F.options.verticalBlocks)*f+"px":"auto",bottom:"waveBottomRight"==b||"waveBottomLeft"==b?"auto":-Math.ceil(F._height/F.options.verticalBlocks)*f+"px",width:c.width(),height:c.height(),"max-width":"none"}),h.css({left:"waveBottomRight"==b||"waveTopRight"==b?Math.ceil(F._width/F.options.horizontalBlocks)*e+"px":"auto",right:"waveBottomRight"==b||"waveTopRight"==b?"auto":Math.ceil(F._width/F.options.horizontalBlocks)*e+"px",top:"waveBottomRight"==b||"waveBottomLeft"==b?Math.ceil(F._height/F.options.verticalBlocks)*f+"px":"auto",bottom:"waveBottomRight"==b||"waveBottomLeft"==b?"auto":Math.ceil(F._height/F.options.verticalBlocks)*f+"px",width:Math.ceil(F._width/F.options.horizontalBlocks)+"px",height:Math.ceil(F._height/F.options.verticalBlocks)+"px",position:"absolute","z-index":2,overflow:"hidden"}),function(b,c,d){setTimeout(function(){b.animate({opacity:0},{duration:(c+d)/(F.options.horizontalBlocks+F.options.verticalBlocks)*F.options.duration,easing:"linear",complete:function(){a(this).remove()}})},c/2/(F.options.horizontalBlocks+F.options.verticalBlocks)*F.options.duration)}(h,e,f)}d.css("left",0),q(c)}function y(b){for(var c=H.eq(C),d=H.eq(D),e=0;e<F.options.horizontalBlocks;e++)for(var f=0;f<F.options.verticalBlocks;f++){var g=c.clone().appendTo(B).wrap("<div></div>"),h=g.parent();g.css({left:"foldBottomRight"==b||"foldTopRight"==b?-Math.ceil(F._width/F.options.horizontalBlocks)*e+"px":"auto",right:"foldBottomRight"==b||"foldTopRight"==b?"auto":-Math.ceil(F._width/F.options.horizontalBlocks)*e+"px",top:"foldBottomRight"==b||"foldBottomLeft"==b?-Math.ceil(F._height/F.options.verticalBlocks)*f+"px":"auto",bottom:"foldBottomRight"==b||"foldBottomLeft"==b?"auto":-Math.ceil(F._height/F.options.verticalBlocks)*f+"px",width:c.width(),height:c.height(),"max-width":"none"}),h.css({left:"foldBottomRight"==b||"foldTopRight"==b?Math.ceil(F._width/F.options.horizontalBlocks)*e+"px":"auto",right:"foldBottomRight"==b||"foldTopRight"==b?"auto":Math.ceil(F._width/F.options.horizontalBlocks)*e+"px",top:"foldBottomRight"==b||"foldBottomLeft"==b?Math.ceil(F._height/F.options.verticalBlocks)*f+"px":"auto",bottom:"foldBottomRight"==b||"foldBottomLeft"==b?"auto":Math.ceil(F._height/F.options.verticalBlocks)*f+"px",width:Math.ceil(F._width/F.options.horizontalBlocks)+"px",height:Math.ceil(F._height/F.options.verticalBlocks)+"px",position:"absolute","z-index":2,overflow:"hidden"}),function(b,c,d){setTimeout(function(){b.animate({width:0,height:0},{duration:(c+d)/(F.options.horizontalBlocks+F.options.verticalBlocks)*F.options.duration,easing:"linear",complete:function(){a(this).remove()}})},c/2/(F.options.horizontalBlocks+F.options.verticalBlocks)*F.options.duration)}(h,e,f)}d.css("left",0),q(c)}function z(b){var c,d,e=H.eq(C),f=H.eq(D);"foldRight"==b||"foldLeft"==b?(c=F.options.horizontalBlocks,d=Math.ceil(F._width/c)):(c=F.options.verticalBlocks,d=Math.ceil(F._height/c));for(var g=0;c>g;g++){var h=e.clone().appendTo(B).wrap("<div></div>"),i=h.parent();h.css({left:"foldRight"==b?-d*g+"px":"auto",right:"foldLeft"==b?-d*g+"px":"auto",top:"foldBottom"==b?-d*g+"px":"auto",bottom:"foldTop"==b?-d*g+"px":"auto",width:"foldRight"==b||"foldLeft"==b?e.width():"",height:"foldBottom"==b||"foldTop"==b?e.height():"","max-width":"none","max-height":"none"}),i.css({position:"absolute","z-index":2,overflow:"hidden",left:"foldRight"==b?g*d+"px":"foldLeft"==b?"":0,right:"foldLeft"==b?g*d+"px":"auto",top:"foldBottom"==b?g*d+"px":"foldTop"==b?"":"auto",bottom:"foldTop"==b?g*d+"px":"auto",width:"foldRight"==b||"foldLeft"==b?Math.ceil(F._width/c)+"px":"100%",height:"foldBottom"==b||"foldTop"==b?Math.ceil(F._height/c)+"px":"100%"}),function(b,d,e){var f=.25;setTimeout(function(){b.animate({width:"foldRight"==e||"foldLeft"==e?0:"100%",height:"foldTop"==e||"foldBottom"==e?0:"100%"},{duration:F.options.duration*f,complete:function(){a(this).remove()}})},d*(1-f)/c*F.options.duration)}(i,g,b)}f.css("left",0),q(e)}function A(b,c){var d,e,f=H.eq(C).css("z-index",1),g=H.eq(D);"sliceRight"==b||"sliceLeft"==b?(d=F.options.horizontalBlocks,e=Math.ceil(F._width/d)):(d=F.options.verticalBlocks,e=Math.ceil(F._height/d));for(var h=a(),i=0;d>i;i++){var j=g.clone().appendTo(B).wrap("<div></div>"),k=i%2==1&&c?-1:1;$parent=j.parent(),j.css({left:"sliceRight"==b?-e*i+"px":"auto",right:"sliceLeft"==b?-e*i+"px":"auto",top:"sliceBottom"==b?-e*i+"px":"auto",bottom:"sliceTop"==b?-e*i+"px":"auto",width:"sliceRight"==b||"sliceLeft"==b?f.width():"",height:"sliceBottom"==b||"sliceTop"==b?f.height():"","max-width":"none","max-height":"none"}),$parent.css({position:"absolute","z-index":2,overflow:"hidden",left:"sliceRight"==b?i*e+"px":"sliceLeft"==b?"":-F._width*k,right:"sliceLeft"==b?i*e+"px":"auto",top:"sliceBottom"==b?i*e+"px":"sliceTop"==b?"":-F._height*k,bottom:"sliceTop"==b?i*e+"px":"auto",width:"sliceRight"==b||"sliceLeft"==b?Math.ceil(F._width/d)+"px":"100%",height:"sliceBottom"==b||"sliceTop"==b?Math.ceil(F._height/d)+"px":"100%"}).animate({opacity:0},0),h=h.add($parent),function(a,b,c){var e=.25;setTimeout(function(){a.animate({left:"sliceTop"==c||"sliceBottom"==c?0:a.css("left"),top:"sliceLeft"==c||"sliceRight"==c?0:a.css("top"),opacity:1},{duration:F.options.duration*e,easing:"linear"})},b*(1-e)/d*F.options.duration)}($parent,i,b)}g.css("left",0),setTimeout(function(){h.remove(),f.css("z-index",""),q(f)},F.options.duration)}if(0==this.length)return this;if(this.length>1)return this.each(function(){a(this).megaSlider(b)}),this;var B,C,D,E={effects:"all",auto:!1,pause:5e3,duration:500,horizontalBlocks:8,verticalBlocks:6,stopAutoOnHover:!0,slideHeight:"max",easing:"swing",startSlide:0,reverse:!1,responsive:!0,controls:!0,prevText:"Prev",nextText:"Next",pagination:!0,beforeSlide:function(){},afterSlide:function(){},onSliderLoad:function(){}},F=this,G=a(F),H=G.children().addClass("megaSlider-slide").css("overflow","hidden"),I=H.length,J=!1;return F.modules={pagination:!0,controls:!0,auto:!0,responsive:!0},F.options=a.extend(E,b),F.goToNextSlide=function(a){return e(a),this},F.goToPrevSlide=function(a){return f(a),this},F.goToSlide=function(a,b){return g(a,b),this},F.getSlideNumber=function(){return C},F.startAuto=function(a){return o(a),this},F.stopAuto=function(){return p(),this},F.update=function(b){F.options=a.extend(F.options,b)},F.destroy=function(){G.removeClass("megaSlider")[0].removeAttribute("style"),p(),H.removeClass("megaSlider-slide").unwrap().each(function(){a(this)[0].removeAttribute("style")})},c(),r(),F.effects={},F.effects.moveRight=function(){u("moveRight")},F.effects.moveLeft=function(){u("moveLeft")},F.effects.moveBottom=function(){u("moveBottom")},F.effects.moveTop=function(){u("moveTop")},F.effects.moveOntoRight=function(){v("moveOntoRight")},F.effects.moveOntoLeft=function(){v("moveOntoLeft")},F.effects.moveOntoBottom=function(){v("moveOntoBottom")},F.effects.moveOntoTop=function(){v("moveOntoTop")},F.effects.fade=function(){var a=H.eq(C),b=H.eq(D);b.css({left:0,"z-index":1}).animate({opacity:0},0).animate({opacity:1},{duration:F.options.duration,easing:F.options.easing,complete:function(){q(a),b.css("z-index","")}})},F.effects.waveRight=function(){w("waveRight")},F.effects.waveLeft=function(){w("waveLeft")},F.effects.waveBottom=function(){w("waveBottom")},F.effects.waveTop=function(){w("waveTop")},F.effects.waveBottomRight=function(){x("waveBottomRight")},F.effects.waveBottomLeft=function(){x("waveBottomLeft")},F.effects.waveTopRight=function(){x("waveTopRight")},F.effects.waveTopLeft=function(){x("waveTopLeft")},F.effects.foldBottomRight=function(){y("foldBottomRight")},F.effects.foldBottomLeft=function(){y("foldBottomLeft")},F.effects.foldTopRight=function(){y("foldTopRight")},F.effects.foldTopLeft=function(){y("foldTopLeft")},F.effects.foldRight=function(){z("foldRight")},F.effects.foldLeft=function(){z("foldLeft")},F.effects.foldBottom=function(){z("foldBottom")},F.effects.foldTop=function(){z("foldTop")},F.effects.sliceRight=function(){A("sliceRight")},F.effects.sliceLeft=function(){A("sliceLeft")},F.effects.sliceBottom=function(){A("sliceBottom")},F.effects.sliceTop=function(){A("sliceTop")},F.effects.crossSliceRight=function(){A("sliceRight",!0)},F.effects.crossSliceLeft=function(){A("sliceLeft",!0)},F.effects.crossSliceBottom=function(){A("sliceBottom",!0)},F.effects.crossSliceTop=function(){A("sliceTop",!0)},this}}(jQuery);