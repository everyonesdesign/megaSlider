/*megaSlider - v0.0.0 - 2013-12-12
* https://github.com/everyonesdesign/megaSlider.git
* Copyright (c) 2013 Trambitskiy Yura;
* Licensed MIT 
*/

!function(a){a.fn.megaSlider=function(b){function c(){h(),w.addClass("megaSlider").css({position:"relative"}).height(heightToSet),s=v.options.startSlide,t=v.options.reverse?m(s):l(s),q(x),x.wrapAll("<div class='megaSlider-slides'>").css("position","absolute").eq(s).css({left:0}),i(),v.options.auto&&o(),v.options.stopAutoOnHover&&w.hover(p,o),v.options.onSliderLoad()}function d(){var b,c,d,e=[];return"all"===v.options.effects?a.each(v.effects,function(a){e.push(a)}):e=v.options.effects.split(","),c=e.length-1,d=Math.floor(Math.random()*(c+1)),b=e[d]}function e(){v.options.beforeSlide();var a=d();"function"==typeof v.effects[a]?v.effects[a]():console.error('The specified effect "'+a+'" is missing'),v.options.afterSlide()}function f(){t=m(s),e()}function g(a){t=a,e()}function h(){var a="";"min"==v.options.slideHeight?a=j():"max"==v.options.slideHeight&&(a=k()),w.height(a)}function i(){v._width=w.width(),v._height=w.height()}function j(){var b=1/0;return x.each(function(){var c=a(this).height();b>c&&(b=c)}),b}function k(){var b=0;return x.each(function(){var c=a(this).height();c>minHeight&&(b=c)}),b}function l(a){var b=a;return y>b+1?++b:b=0,b}function m(a){var b=a;return b>0?--b:b=y-1,b}function n(){v.options.reverse?(t=m(t),s=l(t)):(t=l(t),s=m(t))}function o(){v.auto||(v.auto=setInterval(e,v.options.pause))}function p(){clearInterval(v.auto),v.auto=null}function q(a){a.css({top:0,left:"-9999px","z-index":""})}function r(){v.options.responsive&&a(window).resize(function(){i(),h()})}if(0==this.length)return this;if(this.length>1)return this.each(function(){a(this).megaSlider(b)}),this;var s,t,u={effects:"all",auto:!1,pause:5e3,duration:500,horizontalBlocks:8,verticalBlocks:4,stopAutoOnHover:!0,slideHeight:"min",easing:"swing",startSlide:0,reverse:!1,cyclic:!1,infinite:!0,responsive:!0,beforeSlide:function(){},afterSlide:function(){},onSliderLoad:function(){}},v=this,w=a(v),x=w.children().addClass("megaSlider-slide").css("overflow","hidden"),y=x.length;return v.options=a.extend(u,b),v.goToNextSlide=function(){return e(),this},v.goToPrevSlide=function(){return f(),this},v.goToSlide=function(a){return g(a),this},v.getSlideNumber=function(){return s},v.startAuto=function(){return o(),this},v.stopAuto=function(){return p(),this},v.update=function(b){v.options=a.extend(v.options,b)},v.destroy=function(){w.removeClass("megaSlider")[0].removeAttribute("style"),p(),x.removeClass("megaSlider-slide").unwrap().each(function(){a(this)[0].removeAttribute("style")})},c(),r(),v.effects={},v.effects.moveToRight=function(){var a=x.eq(s),b=x.eq(t);a.animate({left:v._width},{duration:v.options.duration,easing:v.options.easing}),b.css("left",-v._width).animate({left:0},{duration:v.options.duration,easing:v.options.easing,complete:function(){q(a),n()}})},v.effects.moveToLeft=function(){var a=x.eq(s),b=x.eq(t);a.animate({left:-v._width},{duration:v.options.duration,easing:v.options.easing}),b.css("left",v._width).animate({left:0},{duration:v.options.duration,easing:v.options.easing,complete:function(){q(a),n()}})},v.effects.moveToBottom=function(){var a=x.eq(s),b=x.eq(t);a.animate({top:v._height},{duration:v.options.duration,easing:v.options.easing}),b.css({top:-v._height,left:0}).animate({top:0},{duration:v.options.duration,easing:v.options.easing,complete:function(){q(a),n()}})},v.effects.moveToTop=function(){var a=x.eq(s),b=x.eq(t);a.animate({top:-v._height},{duration:v.options.duration,easing:v.options.easing}),b.css({top:v._height,left:0}).animate({top:0},{duration:v.options.duration,easing:v.options.easing,complete:function(){q(a),n()}})},v.effects.moveOntoRight=function(){var a=x.eq(s),b=x.eq(t);b.css({left:-v._width,"z-index":1}).animate({left:0},{duration:v.options.duration,easing:v.options.easing,complete:function(){q(a),b.css("z-index",""),n()}})},v.effects.moveOntoLeft=function(){var a=x.eq(s),b=x.eq(t);b.css({left:v._width,"z-index":1}).animate({left:0},{duration:v.options.duration,easing:v.options.easing,complete:function(){q(a),b.css("z-index",""),n()}})},v.effects.moveOntoBottom=function(){var a=x.eq(s),b=x.eq(t);b.css({top:-v._height,left:0,"z-index":1}).animate({top:0},{duration:v.options.duration,easing:v.options.easing,complete:function(){q(a),b.css("z-index",""),n()}})},v.effects.moveOntoTop=function(){var a=x.eq(s),b=x.eq(t);b.css({top:v._height,left:0,"z-index":1}).animate({top:0},{duration:v.options.duration,easing:v.options.easing,complete:function(){q(a),b.css("z-index",""),n()}})},v.effects.fade=function(){var a=x.eq(s),b=x.eq(t);b.css({left:0,"z-index":1}).animate({opacity:0},0).animate({opacity:1},{duration:v.options.duration,easing:v.options.easing,complete:function(){q(a),b.css("z-index",""),n()}})},this}}(jQuery);