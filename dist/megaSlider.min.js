/*megaSlider - v0.0.0 - 2013-12-12
* https://github.com/everyonesdesign/megaSlider.git
* Copyright (c) 2013 Trambitskiy Yura;
* Licensed MIT 
*/

!function(a){a.fn.megaSlider=function(b){function c(){var a;a="min"==s.options.slideHeight?h():i(),t.addClass("megaSlider").css({position:"relative"}).height(a),p=s.options.startSlide,q=s.options.reverse?k(p):j(p),o(u),u.css("position","absolute").eq(p).css({left:0}),g(),s.options.auto&&m(),s.options.stopAutoOnHover&&t.hover(n,m),s.options.onSliderLoad()}function d(){s.options.beforeSlide();var a=s.options.effects;"function"==typeof s.effects[a]?s.effects[a]():console.error('The specified effect "'+a+'" is missing'),s.options.afterSlide()}function e(){q=k(p),d()}function f(a){q=a,d()}function g(){s._width=t.width(),s._height=t.height()}function h(){var b=1/0;return u.each(function(){var c=a(this).height();b>c&&(b=c)}),b}function i(){var b=0;return u.each(function(){var c=a(this).height();c>minHeight&&(b=c)}),b}function j(a){var b=a;return v>b+1?++b:b=0,b}function k(a){var b=a;return b>0?--b:b=v-1,b}function l(){s.options.reverse?(q=k(q),p=j(q)):(q=j(q),p=k(q))}function m(){s.auto||(s.auto=setInterval(d,s.options.pause))}function n(){clearInterval(s.auto),s.auto=null}function o(a){a.css({top:0,left:"-9999px","z-index":""})}if(0==this.length)return this;if(this.length>1)return this.each(function(){a(this).megaSlider(b)}),this;var p,q,r={effects:"moveToRight",auto:!1,pause:5e3,duration:500,horizontalBlocks:8,verticalBlocks:4,stopAutoOnHover:!0,slideHeight:"min",easing:"swing",startSlide:0,reverse:!1,cyclic:!1,infinite:!0,beforeSlide:function(){},afterSlide:function(){},onSliderLoad:function(){}},s=this,t=a(s),u=t.children().addClass("megaSlider-slide"),v=u.length;return s.options=a.extend(r,b),s.goToNextSlide=function(){return d(),this},s.goToPrevSlide=function(){return e(),this},s.goToSlide=function(a){return f(a),this},s.getSlideNumber=function(){return p},s.startAuto=function(){return m(),this},s.stopAuto=function(){return n(),this},s.update=function(b){s.options=a.extend(s.options,b)},s.destroy=function(){t.removeClass("megaSlider"),u.removeClass("megaSlider-slide").each(function(){a(this)[0].removeAttribute("style")})},c(),s.effects={},s.effects.moveToRight=function(){var a=u.eq(p),b=u.eq(q);a.animate({left:s._width},{duration:s.options.duration,easing:s.options.easing}),b.css("left",-s._width).animate({left:0},{duration:s.options.duration,easing:s.options.easing,complete:function(){o(a),l()}})},s.effects.moveToLeft=function(){var a=u.eq(p),b=u.eq(q);a.animate({left:-s._width},{duration:s.options.duration,easing:s.options.easing}),b.css("left",s._width).animate({left:0},{duration:s.options.duration,easing:s.options.easing,complete:function(){o(a),l()}})},s.effects.moveToBottom=function(){var a=u.eq(p),b=u.eq(q);a.animate({top:s._height},{duration:s.options.duration,easing:s.options.easing}),b.css({top:-s._height,left:0}).animate({top:0},{duration:s.options.duration,easing:s.options.easing,complete:function(){o(a),l()}})},s.effects.moveToTop=function(){var a=u.eq(p),b=u.eq(q);a.animate({top:-s._height},{duration:s.options.duration,easing:s.options.easing}),b.css({top:s._height,left:0}).animate({top:0},{duration:s.options.duration,easing:s.options.easing,complete:function(){o(a),l()}})},s.effects.moveOntoRight=function(){var a=u.eq(p),b=u.eq(q);b.css({left:-s._width,"z-index":1}).animate({left:0},{duration:s.options.duration,easing:s.options.easing,complete:function(){o(a),b.css("z-index",""),l()}})},s.effects.moveOntoLeft=function(){var a=u.eq(p),b=u.eq(q);b.css({left:s._width,"z-index":1}).animate({left:0},{duration:s.options.duration,easing:s.options.easing,complete:function(){o(a),b.css("z-index",""),l()}})},s.effects.moveOntoBottom=function(){var a=u.eq(p),b=u.eq(q);b.css({top:-s._height,left:0,"z-index":1}).animate({top:0},{duration:s.options.duration,easing:s.options.easing,complete:function(){o(a),b.css("z-index",""),l()}})},s.effects.moveOntoTop=function(){var a=u.eq(p),b=u.eq(q);b.css({top:s._height,left:0,"z-index":1}).animate({top:0},{duration:s.options.duration,easing:s.options.easing,complete:function(){o(a),b.css("z-index",""),l()}})},s.effects.fade=function(){var a=u.eq(p),b=u.eq(q);b.css({left:0,"z-index":1}).animate({opacity:0},0).animate({opacity:1},{duration:s.options.duration,easing:s.options.easing,complete:function(){o(a),b.css("z-index",""),l()}})},this}}(jQuery);