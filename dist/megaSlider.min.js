/*megaSlider - v0.0.0 - 2013-12-12
* https://github.com/everyonesdesign/megaSlider.git
* Copyright (c) 2013 Trambitskiy Yura;
* Licensed MIT 
*/

!function(a){a.fn.megaSlider=function(b){function c(){var a;a="min"==t.options.slideHeight?h():i(),u.addClass("megaSlider").css({position:"relative"}).height(a),q=t.options.startSlide,r=t.options.reverse?k(q):j(q),o(v),v.wrapAll("<div class='megaSlider-slides'>").css("position","absolute").eq(q).css({left:0}),g(),t.options.auto&&m(),t.options.stopAutoOnHover&&u.hover(n,m),t.options.onSliderLoad()}function d(){t.options.beforeSlide();var a=t.options.effects;"function"==typeof t.effects[a]?t.effects[a]():console.error('The specified effect "'+a+'" is missing'),t.options.afterSlide()}function e(){r=k(q),d()}function f(a){r=a,d()}function g(){t._width=u.width(),t._height=u.height()}function h(){var b=1/0;return v.each(function(){var c=a(this).height();b>c&&(b=c)}),b}function i(){var b=0;return v.each(function(){var c=a(this).height();c>minHeight&&(b=c)}),b}function j(a){var b=a;return w>b+1?++b:b=0,b}function k(a){var b=a;return b>0?--b:b=w-1,b}function l(){t.options.reverse?(r=k(r),q=j(r)):(r=j(r),q=k(r))}function m(){t.auto||(t.auto=setInterval(d,t.options.pause))}function n(){clearInterval(t.auto),t.auto=null}function o(a){a.css({top:0,left:"-9999px","z-index":""})}function p(){t.options.responsive&&a("window").resize(g)}if(0==this.length)return this;if(this.length>1)return this.each(function(){a(this).megaSlider(b)}),this;var q,r,s={effects:"moveToRight",auto:!1,pause:5e3,duration:500,horizontalBlocks:8,verticalBlocks:4,stopAutoOnHover:!0,slideHeight:"min",easing:"swing",startSlide:0,reverse:!1,cyclic:!1,infinite:!0,responsive:!0,beforeSlide:function(){},afterSlide:function(){},onSliderLoad:function(){}},t=this,u=a(t),v=u.children().addClass("megaSlider-slide"),w=v.length;return t.options=a.extend(s,b),t.goToNextSlide=function(){return d(),this},t.goToPrevSlide=function(){return e(),this},t.goToSlide=function(a){return f(a),this},t.getSlideNumber=function(){return q},t.startAuto=function(){return m(),this},t.stopAuto=function(){return n(),this},t.update=function(b){t.options=a.extend(t.options,b)},t.destroy=function(){u.removeClass("megaSlider"),v.removeClass("megaSlider-slide").unwrap().each(function(){a(this)[0].removeAttribute("style")})},c(),p(),t.effects={},t.effects.moveToRight=function(){var a=v.eq(q),b=v.eq(r);a.animate({left:t._width},{duration:t.options.duration,easing:t.options.easing}),b.css("left",-t._width).animate({left:0},{duration:t.options.duration,easing:t.options.easing,complete:function(){o(a),l()}})},t.effects.moveToLeft=function(){var a=v.eq(q),b=v.eq(r);a.animate({left:-t._width},{duration:t.options.duration,easing:t.options.easing}),b.css("left",t._width).animate({left:0},{duration:t.options.duration,easing:t.options.easing,complete:function(){o(a),l()}})},t.effects.moveToBottom=function(){var a=v.eq(q),b=v.eq(r);a.animate({top:t._height},{duration:t.options.duration,easing:t.options.easing}),b.css({top:-t._height,left:0}).animate({top:0},{duration:t.options.duration,easing:t.options.easing,complete:function(){o(a),l()}})},t.effects.moveToTop=function(){var a=v.eq(q),b=v.eq(r);a.animate({top:-t._height},{duration:t.options.duration,easing:t.options.easing}),b.css({top:t._height,left:0}).animate({top:0},{duration:t.options.duration,easing:t.options.easing,complete:function(){o(a),l()}})},t.effects.moveOntoRight=function(){var a=v.eq(q),b=v.eq(r);b.css({left:-t._width,"z-index":1}).animate({left:0},{duration:t.options.duration,easing:t.options.easing,complete:function(){o(a),b.css("z-index",""),l()}})},t.effects.moveOntoLeft=function(){var a=v.eq(q),b=v.eq(r);b.css({left:t._width,"z-index":1}).animate({left:0},{duration:t.options.duration,easing:t.options.easing,complete:function(){o(a),b.css("z-index",""),l()}})},t.effects.moveOntoBottom=function(){var a=v.eq(q),b=v.eq(r);b.css({top:-t._height,left:0,"z-index":1}).animate({top:0},{duration:t.options.duration,easing:t.options.easing,complete:function(){o(a),b.css("z-index",""),l()}})},t.effects.moveOntoTop=function(){var a=v.eq(q),b=v.eq(r);b.css({top:t._height,left:0,"z-index":1}).animate({top:0},{duration:t.options.duration,easing:t.options.easing,complete:function(){o(a),b.css("z-index",""),l()}})},t.effects.fade=function(){var a=v.eq(q),b=v.eq(r);b.css({left:0,"z-index":1}).animate({opacity:0},0).animate({opacity:1},{duration:t.options.duration,easing:t.options.easing,complete:function(){o(a),b.css("z-index",""),l()}})},this}}(jQuery);